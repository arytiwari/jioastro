# BPHS Yoga Expansion Plan for JioAstro

## Current State: 51 Yogas Implemented

**Date**: November 9, 2025
**Status**: Planning comprehensive BPHS yoga expansion

---

## Current Yoga Inventory (51 Total)

### 1. Pancha Mahapurusha Yogas (5) âœ…
- Ruchaka (Mars)
- Bhadra (Mercury)
- Hamsa (Jupiter)
- Malavya (Venus)
- Sasa (Saturn)

### 2. Wealth & Prosperity (9) âœ…
- Adhi Yoga
- Lakshmi Yoga
- Saraswati Yoga (Fixed Nov 9, 2025 - classical definition)
- Amala Yoga
- Parvata Yoga
- Kahala Yoga
- Dhana Yoga
- Kubera Yoga
- Daridra Yoga (Fixed Nov 9, 2025 - classical definition)

### 3. Conjunction-Based (3) âœ…
- Chandra-Mangala Yoga
- Guru-Mangala Yoga
- Budhaditya Yoga

### 4. Sun-Based Yogas (3) âœ…
- Vesi Yoga (planet 2nd from Sun)
- Vosi Yoga (planet 12th from Sun)
- Ubhayachari Yoga (planets both sides of Sun)

### 5. Moon-Based Yogas (4) âœ…
- Sunapha Yoga (planet 2nd from Moon)
- Anapha Yoga (planet 12th from Moon)
- Durudhura Yoga (planets both sides of Moon)
- Kemadruma Yoga (no planets around Moon - inauspicious)

### 6. Raja Yogas (3) âœ…
- Viparita Raj Yoga (3 types)
- Raj Yoga (Kendra-Trikona)
- Dharma-Karmadhipati Yoga

### 7. Neecha Bhanga Yogas (4) âœ…
- Debilitation cancellation variations

### 8. Kala Sarpa Yoga (12 types) âœ…
All 12 classical types based on Rahu's house position:
- Anant, Kulik, Vasuki, Shankhpal, Padma, Mahapadma
- Takshak, Karkotak, Shankhachud, Ghatak, Vishdhar, Sheshnag

### 9. Nabhasa Yogas (10 of 32) âš ï¸ INCOMPLETE
**Ashraya Group (4)**: Rajju, Musala, Nala, Maala âœ…
**Dala Group (2)**: Mala, Sarpa âœ…
**Akriti Group (4)**: Yuga, Shola, Gola, Dama âœ…

**MISSING**: 22 more Nabhasa yogas (see expansion below)

### 10. Eclipse Yogas (4) âœ…
- Sun-Rahu (Solar Eclipse)
- Sun-Ketu
- Moon-Rahu (Lunar Eclipse)
- Moon-Ketu

### 11. Other Classical Yogas (9) âœ…
- Gajakesari Yoga
- Chamara Yoga
- Nipuna Yoga
- Chandal Yoga
- Balarishta Yoga
- Kroora Yoga
- Rare Yogas (5): Shakata, Shrinatha, Kusuma, Matsya, Kurma

---

## BPHS Classification Targets

According to Brihat Parashara Hora Shastra, the following yoga categories should be implemented:

### âŒ 1. Nitya Yogas (27) - **COMPLETELY MISSING**
**Priority**: HIGHEST - Well-defined, formulaic
**Based on**: Sun-Moon longitudinal distance (divided into 27 parts)

These are fixed yogas based purely on the angular distance between Sun and Moon at birth.

#### The 27 Nitya Yogas:
1. **Vishkambha** (0Â° - 13Â°20')
2. **Priti** (13Â°20' - 26Â°40')
3. **Ayushman** (26Â°40' - 40Â°)
4. **Saubhagya** (40Â° - 53Â°20')
5. **Shobhana** (53Â°20' - 66Â°40')
6. **Atiganda** (66Â°40' - 80Â°)
7. **Sukarma** (80Â° - 93Â°20')
8. **Dhriti** (93Â°20' - 106Â°40')
9. **Shoola** (106Â°40' - 120Â°)
10. **Ganda** (120Â° - 133Â°20')
11. **Vriddhi** (133Â°20' - 146Â°40')
12. **Dhruva** (146Â°40' - 160Â°)
13. **Vyaghata** (160Â° - 173Â°20')
14. **Harshana** (173Â°20' - 186Â°40')
15. **Vajra** (186Â°40' - 200Â°)
16. **Siddhi** (200Â° - 213Â°20')
17. **Vyatipata** (213Â°20' - 226Â°40')
18. **Variyan** (226Â°40' - 240Â°)
19. **Parigha** (240Â° - 253Â°20')
20. **Shiva** (253Â°20' - 266Â°40')
21. **Siddha** (266Â°40' - 280Â°)
22. **Sadhya** (280Â° - 293Â°20')
23. **Shubha** (293Â°20' - 306Â°40')
24. **Shukla** (306Â°40' - 320Â°)
25. **Brahma** (320Â° - 333Â°20')
26. **Indra** (333Â°20' - 346Â°40')
27. **Vaidhriti** (346Â°40' - 360Â°)

**Implementation**: Easy - Calculate (Moon_longitude - Sun_longitude) mod 360, divide by 13Â°20'

---

### âš ï¸ 2. Nabhasa Yogas (32 total, currently 10) - **INCOMPLETE**
**Priority**: HIGH
**Based on**: Planetary patterns across houses/signs

Currently have 10 Nabhasa yogas. Need to add 22 more.

#### Complete Nabhasa Classification:

**A. Ashraya Group (4) - Movable/Fixed/Dual** âœ…
1. Rajju Yoga - All planets in movable signs
2. Musala Yoga - All planets in fixed signs
3. Nala Yoga - All planets in dual signs
4. Maala Yoga - Mixed across all three types

**B. Dala Group (2) - Benefic/Malefic Distribution** âœ…
1. Mala Yoga - Benefics in kendras
2. Sarpa Yoga - Malefics in kendras

**C. Akriti Group (20) - Planetary Patterns** âš ï¸ ONLY 4/20 IMPLEMENTED
Currently implemented (4):
1. Yuga Yoga - All in 4 signs
2. Shola Yoga - All in 6 signs
3. Gola Yoga - All in 1 sign
4. Dama Yoga - Mixed pattern

**MISSING (16 Akriti Yogas)**:
5. Shakat Yoga - All in 1st and 7th houses
6. Paash Yoga - All in 6 consecutive signs
7. Kedara Yoga - All in 7th and 10th from each other
8. Shool Yoga - All in 3 signs
9. Yav Yoga - All in 4 and 10 from Lagna
10. Kamala Yoga - All in kendras
11. Vaapi Yoga - All in 4 kendras and upachayas
12. Yupa Yoga - All from Lagna to 4th
13. Ishwar Yoga - All from 1st to 10th
14. Sakti Yoga - All in 5 consecutive signs
15. Dand Yoga - All in 6 consecutive signs
16. Naukaa Yoga - All in 7 consecutive signs
17. Koot Yoga - All in 4 kendras
18. Chhat Yoga - All in 6 consecutive houses from 4th
19. Chaamar Yoga - Benefics in kendras
20. Ardha Chandra Yoga - All in 7 houses from Lagna

**D. Sankhya Group (3) - Numerical Patterns** âŒ MISSING
1. Vallaki Yoga
2. Daam Yoga
3. Paash Yoga

**E. Other Nabhasa (3)** âŒ MISSING
1. Rajju variants
2. Musala variants
3. Special patterns

---

### âŒ 3. Bhava Yogas (144) - **COMPLETELY MISSING**
**Priority**: MEDIUM (Complex - requires house lord system)
**Based on**: Placements and effects of house lords

**Structure**:
- 12 houses Ã— 12 possible positions = 144 combinations
- Each house lord in each of the 12 houses creates a specific yoga

**Example Bhava Yogas**:
- 1st lord in 1st house - Strength to personality
- 1st lord in 2nd house - Wealth through self-effort
- 2nd lord in 1st house - Wealth comes to native
- 2nd lord in 11th house - Dhana Yoga (wealth)
- 9th lord in 10th house - Dharma-Karmadhipati Yoga
- ... (144 total combinations)

**Implementation Challenge**: Requires robust house lordship calculation system (already implemented in `_get_house_lord()` for Daridra Yoga fix)

---

### âš ï¸ 4. Chandraadhi Yogas (Moon-based) - **PARTIALLY IMPLEMENTED**
**Priority**: HIGH
**Current**: 4 yogas (Sunapha, Anapha, Durudhura, Kemadruma)
**MISSING**: Additional Moon-based combinations

**Additional Needed**:
- Adhi Yoga (already implemented, different category)
- Sunaphadi variations with specific planets
- Lunar Raj Yogas
- Chandra-lagna based yogas (Moon as ascendant)

---

### âš ï¸ 5. Suryaadhi Yogas (Sun-based) - **PARTIALLY IMPLEMENTED**
**Priority**: HIGH
**Current**: 3 yogas (Vesi, Vosi, Ubhayachari)
**MISSING**: Additional Sun-based combinations

**Additional Needed**:
- Specific planet combinations with Sun
- Surya-lagna based yogas (Sun as ascendant)
- Solar Raj Yogas

---

### âŒ 6. Lagnaadhi Yogas (Ascendant-based) - **MISSING**
**Priority**: MEDIUM
**Based on**: Lagna lord positions and combinations

**Examples**:
- Lagna lord in kendra
- Lagna lord with benefics
- Lagna lord exalted/debilitated
- Lagna-pati yogas

---

### âœ… 7. Raja Yogas (Royal Status) - **WELL COVERED**
**Current**: Good coverage
- Kendra-Trikona combinations âœ…
- Dharma-Karmadhipati âœ…
- Viparita Raj (3 types) âœ…
- Neecha Bhanga (4 types) âœ…

**Additional Needed**:
- More specific house lord combinations
- Bhava-based Raj Yogas

---

### âœ… 8. Dhana Yogas (Wealth) - **WELL COVERED**
**Current**: Good coverage
- General Dhana Yoga âœ…
- Lakshmi Yoga âœ…
- Kubera Yoga âœ…
- Amala Yoga âœ…

---

### âœ… 9. Daridra Yogas (Poverty) - **IMPLEMENTED**
**Current**: 1 yoga (classical BPHS definition)
- Daridra Yoga (11th lord in dusthana) âœ…

**Additional Needed**:
- Keevala Yoga (lone planet in dusthana)
- Other poverty indicators

---

### âŒ 10. Sanyas Yogas (Renunciation) - **MISSING**
**Priority**: MEDIUM
**Based on**: Saturn, Rahu/Ketu placements, 4+ planets in single house

**Classical Sanyas Yogas**:
- 4 or more planets in one sign
- Saturn with multiple planets
- Ketu prominence
- 12th house emphasis

---

## Implementation Roadmap

### Phase 1: Nitya Yogas (HIGHEST PRIORITY) ğŸ”¥
**Time**: 2-3 hours
**Complexity**: Low (purely mathematical)
**Impact**: High (27 new yogas, universal for all charts)

**Tasks**:
1. âœ… Research and document 27 Nitya Yogas with effects
2. â³ Implement `_detect_nitya_yogas()` method
3. â³ Calculate Sun-Moon distance modulo 360
4. â³ Determine which of 27 yogas is formed
5. â³ Add descriptions and effects for each
6. â³ Create comprehensive tests (27 test cases)
7. â³ Update documentation

**Expected Outcome**: +27 yogas (78 total)

---

### Phase 2: Complete Nabhasa Yogas (HIGH PRIORITY)
**Time**: 4-6 hours
**Complexity**: Medium (pattern recognition)
**Impact**: High (22 new yogas, structural patterns)

**Tasks**:
1. Implement missing 16 Akriti yogas
2. Implement 3 Sankhya yogas
3. Implement 3 other Nabhasa variations
4. Update existing Nabhasa methods
5. Comprehensive testing
6. Documentation

**Expected Outcome**: +22 yogas (100 total)

---

### Phase 3: Sanyas Yogas (MEDIUM PRIORITY)
**Time**: 2-3 hours
**Complexity**: Medium
**Impact**: Medium (5-7 new yogas, spiritual focus)

**Tasks**:
1. Research classical Sanyas definitions
2. Implement 4+ planet conjunction detection
3. Implement Saturn-based renunciation yogas
4. Test and document

**Expected Outcome**: +7 yogas (107 total)

---

### Phase 4: Expanded Chandraadhi & Suryaadhi Yogas (MEDIUM PRIORITY)
**Time**: 3-4 hours
**Complexity**: Medium
**Impact**: Medium (10-15 new yogas)

**Tasks**:
1. Research additional Moon-based yogas
2. Research additional Sun-based yogas
3. Implement planet-specific variations
4. Test and document

**Expected Outcome**: +15 yogas (122 total)

---

### Phase 5: Bhava Yogas (LOW PRIORITY - COMPLEX)
**Time**: 10-15 hours
**Complexity**: High (requires comprehensive house lord system)
**Impact**: Very High (144 new yogas, but computationally intensive)

**Tasks**:
1. Extend `_get_house_lord()` to be comprehensive
2. Create Bhava Yoga classification matrix (12Ã—12)
3. Implement detection for all 144 combinations
4. Categorize by benefic/malefic nature
5. Create intelligent filtering (don't show all 144, prioritize important ones)
6. Extensive testing
7. Documentation

**Expected Outcome**: +144 yogas (266 total, but shown selectively)

**Note**: This is massive. Consider implementing incrementally:
- Phase 5a: Lords of 1st, 2nd, 9th, 10th (most important houses) = 48 yogas
- Phase 5b: Lords of 4th, 5th, 7th, 11th (secondary houses) = 48 yogas
- Phase 5c: Lords of 3rd, 6th, 8th, 12th (dusthana houses) = 48 yogas

---

### Phase 6: Lagnaadhi Yogas (MEDIUM PRIORITY)
**Time**: 2-3 hours
**Complexity**: Medium
**Impact**: Medium (8-10 new yogas)

**Tasks**:
1. Research Lagna-based yogas
2. Implement Lagna lord position yogas
3. Test and document

**Expected Outcome**: +10 yogas (total varies based on Phase 5 completion)

---

## Summary Projection

| Phase | Category | Yogas Added | Cumulative Total | Priority |
|-------|----------|-------------|------------------|----------|
| Current | All Implemented | 51 | 51 | - |
| Phase 1 | Nitya Yogas | +27 | 78 | HIGHEST ğŸ”¥ |
| Phase 2 | Nabhasa (complete) | +22 | 100 | HIGH |
| Phase 3 | Sanyas Yogas | +7 | 107 | MEDIUM |
| Phase 4 | Chandraadhi/Suryaadhi | +15 | 122 | MEDIUM |
| Phase 5a | Bhava (Priority Houses) | +48 | 170 | LOW |
| Phase 5b | Bhava (Secondary) | +48 | 218 | LOW |
| Phase 5c | Bhava (Dusthana) | +48 | 266 | LOW |
| Phase 6 | Lagnaadhi | +10 | 276 | MEDIUM |

**Final Target**: 200-280 total yogas (depending on Bhava implementation depth)

---

## Technical Considerations

### 1. Performance
- With 200+ yogas, detection time may increase
- Current: ~50-100ms for 51 yogas
- Target: <200ms for 200+ yogas
- Optimization: Early exit conditions, caching, parallel processing

### 2. User Experience
- Don't show all 266 yogas - overwhelming
- Intelligent filtering:
  - Show only formed yogas (obviously)
  - Prioritize strong yogas (>60% strength)
  - Categorize by impact (High/Medium/Low)
  - Allow user to toggle "Show All" vs "Show Important"

### 3. Storage
- Yoga descriptions will be large (200+ Ã— 100-200 chars each)
- Consider: External JSON file for yoga definitions
- Benefits: Easier to edit, localization-ready, smaller code file

### 4. Testing
- Cannot manually test 200+ yogas
- Strategy: Automated test generation
- Golden test cases from classical charts
- Regression testing critical

---

## Next Steps

1. âœ… Create this expansion plan document
2. â³ **START**: Implement 27 Nitya Yogas (Phase 1)
3. â³ Test Nitya Yogas with real charts
4. â³ Proceed to Phase 2 (Nabhasa completion)
5. â³ Continue through phases based on priority

---

**Document Created**: November 9, 2025
**Status**: Planning complete, ready for Phase 1 implementation
**Estimated Total Time**: 25-40 hours for full BPHS coverage
**Recommended Approach**: Phased implementation, Phase 1-4 first (122 yogas), assess, then Phase 5-6

---

## References

- **Brihat Parashara Hora Shastra** (BPHS) - Primary classical text
- **Phaladeepika** - Additional yoga references
- **Jataka Parijata** - Yoga effects and timing
- **Saravali** - Yoga descriptions and remedies
